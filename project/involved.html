<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toolboxify &mdash; Get Involved</title>
    <meta name="description" content="Get Involved with Toolboxify">
    <meta name="author" content="BocceTech LLC">
    <meta name="keywords" content="Tools, Asset Management, Tool Management, Involvement, Suggestions">

    <link href="stylesheet.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
    <header>
        <nav>
            <a href="index.html" title="Go to Home Page">
                <img src="images/toolboxify_logo_trim.jpg" alt="Toolboxify Logo" class="header-logo">
            </a>
            <div class="hamburger-menu" id="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="nav-links">
                <ul>
                    <li><a href="information.html">Information</a></li>
                    <li><a href="try.html">Try It Out</a></li>
                    <li><a href="involved.html">Get Involved</a></li>
                    <li><a href="news.html">News</a></li>
                    <li><a href="inquiries.html">Help</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <div id="wrapper">
        <main>
            <div class="heading-box">
                <h1>Join the Development</h1>
            </div>
            <div class="form-box">
                <h2>We want to hear your input!</h2>
                <h3>Become part of Toolboxify and help your ideas come to life by sharing them below!</h3>
                <form id="involved-form">
                    <!-- First Name -->
                    <div class="form-group">
                        <label for="firstname">First Name:</label>
                        <input type="text" id="firstname" name="firstname" placeholder="Enter your first name" required>
                    </div>
                
                    <!-- Last Name -->
                    <div class="form-group">
                        <label for="lastname">Last Name:</label>
                        <input type="text" id="lastname" name="lastname" placeholder="Enter your last name" required>
                    </div>
                
                    <!-- Email -->
                    <div class="form-group">
                        <label for="email">Email Address:</label>
                        <input type="email" id="email" name="email" placeholder="Enter your email" required>
                    </div>
                
                    <!-- Reason -->
                    <div class="form-group">
                        <label for="reason">I Am:</label>
                        <select id="reason" name="reason" required>
                            <option value="">-- Select --</option>
                            <option value="owner">A Business Owner</option>
                            <option value="manager">A Tool Control Manager</option>
                            <option value="developer">A Developer</option>
                            <option value="other">Other (Not Listed)</option>
                        </select>
                    </div>
                
                    <!-- Message -->
                    <div class="form-group">
                        <label for="message">Your Input:</label>
                        <textarea id="message" name="message" rows="5" placeholder="Please provide your ideas here..." required></textarea>
                    </div>
                
                    <!-- Submit Button -->
                    <div class="form-group">
                        <button type="button" id="submit-button">Submit</button>
                    </div>
                </form>                
            </div>
        </main>
    </div>
    <footer>
        <div class="social-links">
            <div class="social-item">
                <a href="https://www.instagram.com/toolboxify.main/" target="blank">
                    <img src="images/instagram_logo.jpg" alt="Instagram Logo" class="social-icon">
                </a><br>
                <a href="https://www.instagram.com/toolboxify.main/" target="blank">Instagram</a>
            </div>
            <div class="social-item">
                <a href="https://www.facebook.com/toolboxify.main/" target="blank">
                    <img src="images/facebook_logo.png" alt="Facebook Logo" class="social-icon">
                </a><br>
                <a href="https://www.facebook.com/toolboxify.main/" target="blank">Facebook</a>
            </div>
            <div class="social-item">
                <a href="https://www.youtube.com/@ToolboxifyApp" target="blank">
                    <img src="images/youtube_logo.jpg" alt="YouTube Logo" class="social-icon">
                </a><br>
                <a href="https://www.youtube.com/@ToolboxifyApp" target="blank">YouTube</a>
            </div>
        </div>
        <p class="footer-text"><a href="mailto:toolboxify.main@gmail.com">Email Us</a><br><br>
            Copyright &copy; 2024 BocceTech, LLC
        </p>
    </footer>
    <script src="scrollscript.js"></script>
    <script src="hamburger.js"></script>
    <script>
        document.getElementById('submit-button').addEventListener('click', async () => {
            const form = document.getElementById('involved-form');
            const formData = new FormData(form);

            // Build JSON object from formData
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });

            // Prepare payload
            const payload = {
                body: JSON.stringify(data),
            };

            console.log('Payload to be sent:', payload); // Debugging log

            try {
                const response = await fetch('https://f4bxlo8pk4.execute-api.us-west-1.amazonaws.com/dev', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload),
                });

                const result = await response.json();
                console.log('API Response:', result); // Debugging log

                if (response.ok) {
                    alert('Form submitted successfully!');
                    // Redirect to the thank-you page or any other desired page
                    window.location.href = 'submitted.html'; // Replace with your actual URL
                } else {
                    alert(`Error: ${result.error || 'Unknown error occurred.'}`);
                }
            } catch (error) {
                alert('An error occurred while submitting the form.');
                console.error('Submission error:', error);
            }
        });
    </script>
</body>

</html>
